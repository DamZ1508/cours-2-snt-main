title: CrÃ©ation d'une calculatrice en ligne
---
sort_key: 3
---
image: macro-mondays-plastic.jpg
---
body:

L'objet de la sÃ©ance est de rÃ©aliser une calculatrice en ligne, c'est-Ã -dire un site web qui effectue les calculs demandÃ©s.

## Mise en place de l'environnement de travail

0. TÃ©lÃ©chargez le fichier [`calculatrice.py`](calculatrice.py) dans le dossier `SNT/web`.
0. Ouvrir ce fichier avec le logiciel EduPython.
0. ExÃ©cutez le programme, et connectez vous Ã  l'adresse http://localhost:8000. Effectuez une addition, et observez que le rÃ©sultat correct est calculÃ©.
0. Vous pouvez arrÃªter le programme avec le bouton `ðŸ›‘ STOP`.

Les autres opÃ©rations ne fonctionnent pas encore. Nous allons corriger cela.

## Analyse et modification du code

Lorsque le programme `calculatrice.py` est exÃ©cutÃ©, il *Â«Â Ã©couteÂ Â»* l'adresse http://localhost:8000, c'est-Ã -dire qu'il attend que quelqu'un utilise sont navigateur web pour se connecter Ã  cette adresse. Il analyse alors les paramÃ¨tres qui lui ont Ã©tÃ© passÃ©s (les deux nombres, et l'opÃ©ration), et il rÃ©pond en envoyant le code HTML des lignes 49 Ã  72, en remplaÃ§ant les chaÃ®nes de caractÃ¨res `{nombre1}`, `{nombre2}`, `{resultat}` par les deux nombres, et le rÃ©sultat calculÃ©.

Le rÃ©sultat est calculÃ© dans la fonction `calcule()` (lignes 9 Ã  16).

- Les premiÃ¨res lignes (reproduites ci-dessous) correspondent au traitement spÃ©cial si aucune opÃ©ration n'a Ã©tÃ© sÃ©lectionnÃ©e (la premiÃ¨re fois que l'on consulte la page).

    ~~~python
    if operation is None:
        return None
    ~~~

- Les lignes suivantes signifient que si l'opÃ©ration est une addition, alors la somme des deux nombres est calculÃ©e, et renvoyÃ©eÂ : elle sera alors affichÃ©e dans la page web renvoyÃ©e Ã  l'utilisateur.

    ~~~python
    if operation == "+":
        return nombre1 + nombre2
    ~~~

Ã€ vous de jouerÂ :

0. ComplÃ©tez cette fonction (Ã  la suite de la ligne 14) pour traiter chacune des quatre opÃ©rations possibles.
0. Appelez le professeur pour vÃ©rifier votre travail.
0. Rendez votre fichier Python sur l'espace Classe -> Devoirs
